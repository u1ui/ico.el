<!DOCTYPE html>
<html lang=en>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>u1-ico Test</title>

        <link rel=stylesheet href="https://cdn.jsdelivr.net/gh/u1ui/base.css/full.css">

        <link rel=stylesheet href="https://cdn.jsdelivr.net/gh/u1ui/classless.css/variables.min.css">
        <link rel=stylesheet href="https://cdn.jsdelivr.net/gh/u1ui/classless.css/classless.min.css">
        <link rel=stylesheet href="https://cdn.jsdelivr.net/gh/u1ui/classless.css/simple.min.css">
        <link rel=stylesheet href="https://cdn.jsdelivr.net/gh/u1ui/classless.css/more.min.css">


        <script type=module src="https://cdn.jsdelivr.net/gh/u1ui/u1/auto.min.js"></script>


        <link rel="stylesheet" href="../font/Material Icons.css">
        <link rel="stylesheet" href="../ico.css">
        <script type=module src="../ico.js"></script>

        <!--script type=module src="./util.js"></script>
        <link rel="stylesheet" href="./util.css"-->
<body>

<style>
    u1-ico[state=fail] {
        color:red;
        font-size:10px;
    }
</style>

<section>
    <h2>Comparison tool</h2>
    <input style="width:100%" id=namesInp value="star search menu home facebook chevron-right link">
    <div style="overflow:auto; white-space:nowrap; max-height:60vh">
        <table id=table class="u1-table -Sticky">
            <thead>
            <tbody>
                <tr style="--u1-ico-dir:'https://cdn.jsdelivr.net/npm/bytesize-icons@1.4.0/dist/icons/'">
                    <td>
        </table>
    </div>

    <style style="display:block" contenteditable style="font-size:12px">
        u1-ico {
            color:green;
            /* not recommended: */
            xstroke: currentColor;
            xstroke-width: 2;
            xstroke-linecap: round;
            xstroke-linejoin: round;
        }
    </style>

    <script type=module>
        let fonts = {
            'Material':            'https://cdn.jsdelivr.net/npm/@material-icons/svg@1.0.11/svg/{icon}/baseline.svg',
            'Teenyicons':          'https://cdn.jsdelivr.net/npm/teenyicons@0.4.1/outline/',
            'Feather':             'https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/icons/',
            'Bootstrap':           'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/icons/',
            'Octicons':            'https://cdn.jsdelivr.net/npm/octicons@8.5.0/build/svg/',
            'Bytesize':            'https://cdn.jsdelivr.net/npm/bytesize-icons@1.4.0/dist/icons/',
            'Ionicons':            'https://cdn.jsdelivr.net/npm/ionicons@5.5.1/dist/svg/',
            'Fontawesome regular': 'https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/svgs/regular/',
            'Fontawesome solid':   'https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/svgs/solid/',
            'Fontawesome brands':  'https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/svgs/brands/',
            'Dripicons':           'https://cdn.jsdelivr.net/npm/dripicons@2.0.0/SVG/',
            'CoreUI Icons':        'https://cdn.jsdelivr.net/npm/@coreui/icons@2.0.1/svg/free/cil-',
            'open-iconic':         'https://cdn.jsdelivr.net/npm/open-iconic@1.1.1/svg/',
            'Radix':               'https://cdn.jsdelivr.net/gh/radix-ui/icons@3.1.0/packages/radix-icons/icons/15/',
            'Heroicons outline':   'https://cdn.jsdelivr.net/npm/heroicons@1.0.1/outline/',
            'Heroicons solid':     'https://cdn.jsdelivr.net/npm/heroicons@1.0.1/solid/',
            'Typicons':            'https://cdn.jsdelivr.net/npm/typicons.font@2.1.2/src/svg/',
            'Boxicons regular':    'https://cdn.jsdelivr.net/npm/boxicons@2.0.7/svg/regular/bx-',
            'Boxicons solid':      'https://cdn.jsdelivr.net/npm/boxicons@2.0.7/svg/solid/bxs-',
            'linearicons':         'https://cdn.jsdelivr.net/npm/linearicons@1.0.2/dist/svg/',
            'FluentUI regular':    'https://cdn.jsdelivr.net/npm/@svg-icons/fluentui-system-regular@1.56.0/',
            'FluentUI filled':     'https://cdn.jsdelivr.net/npm/@svg-icons/fluentui-system-filled@1.56.0/',
            'Evil Icons':          'https://cdn.jsdelivr.net/npm/evil-icons@1.10.1/assets/icons/ei-',
            'Eva Icons fill':      'https://cdn.jsdelivr.net/npm/eva-icons@1.1.3/fill/svg/',
            'Eva Icons outline':   'https://cdn.jsdelivr.net/npm/eva-icons@1.1.3/outline/svg/{icon}-outline.svg',
            'Zondicons':           'https://cdn.jsdelivr.net/npm/zondicons@1.2.0/',
            'Tabler Icons':        'https://cdn.jsdelivr.net/npm/tabler-icons@1.35.0/icons/',
            'holasvg-icons':       'https://cdn.jsdelivr.net/gh/marianabeldi/holasvg-icons/icons/',
            'Jam icons':           'https://cdn.jsdelivr.net/gh/michaelampr/jam@3.1.0/icons/',
            'entypo':              'https://cdn.jsdelivr.net/npm/entypo@2.2.1/src/Entypo/',
            'fticons':             'https://cdn.jsdelivr.net/npm/@financial-times/fticons@1.23.1/svg/',
            'photon icons':        'https://cdn.jsdelivr.net/npm/photon-icons@5.4.0/icons/desktop/',
            'devicons':            'https://cdn.jsdelivr.net/npm/devicons@1.8.0/!SVG/',
            'Adobe Spectrum':      'https://cdn.jsdelivr.net/npm/@adobe/spectrum-css-workflow-icons@1.4.2/24/',
        }
        let names = [];
        function parseTable(){
            names = namesInp.value.split(' ');
            let str = '<thead><tr><th>Icon-Set';
            for (let name of names) {

                ///package/gh/:user/:repo@:version/:structure?
                str += '<th>'+name;
            }
            str += '<tbody>';

            for (let [set,url] of Object.entries(fonts)) {
                let link = url.split('{icon}')[0];

                let caseType = '';
                /* not implemented
                if (set === 'Adobe Spectrum') caseType = 'AA'
                */

                str +=
                `<tr style="--u1-ico-dir:'${url}'; --u1-ico-dir-case-type:${caseType}">
                    <th>
                        <a href="${link}" target="${set}">${set}</a>`;
                for (let name of names) {
                    str += '<td style="text-align:center"><u1-ico>'+name+'</u1-ico>';
                }
            }
            document.getElementById('table').innerHTML = str;
        }
        parseTable();
        namesInp.addEventListener('change',parseTable)



        // list all icons
        document.getElementById('table').addEventListener('click', async function(e){
            var href = e.target.closest('tr').querySelector('a').href;
            const [, api, , path] = href.replace('cdn.jsdelivr.net', 'data.jsdelivr.com/v1/package').match(/(.*@[0-9.]+)(\/)(.*)/);
            var parts = path.split('/');
            var data = await fetch(api).then(res=>res.json());
            var curr = data;
            for (let part of parts) {
                if (part === '') break;
                curr = curr.files.find(item=>item.name===part);
            }

            var dialog = document.createElement('dialog');
            dialog.innerHTML = '<div id=icoList class=u1-auto-grid></div>';
            dialog.style.setProperty('--u1-ico-dir', "'"+href+"'");
            dialog.style.width = '90vw';
            dialog.style.maxHeight = '90vh';
            dialog.style.overflow = 'auto';

            curr.files.forEach(function(file){
                let name = file.name;
                if (!name.endsWith('.svg')) return;
                let icon = name.replace('.svg','');
                var item = document.createElement('div');
                item.innerHTML = '<u1-ico xicon="'+icon+'">'+icon+'</u1-ico><br>'+icon;
                dialog.querySelector('#icoList').append(item);
            })

            document.body.append(dialog)
            dialog.style.display = 'block';
        })
    </script>
    <style>
        #table {
            font-size:12px;
        }
        #table tr {
            vertical-align:middle;
        }
        #table u1-ico {
            font-size:30px;
            display:block;
            xvertical-align: middle;
        }
        #table u1-ico[state=fail] {
            font-size:12px;
        }

        #icoList {
            --u1-Gap:.1rem;
            --u1-Items-width:9em;
            text-align:center;
            font-size:11px;
        }
        #icoList > * {
            padding:.3rem .1rem;
            --line-height:1.1em;
            border:1px solid #eee;
            background:#f8f8f8;
        }
        #icoList u1-ico {
            background:#fff;
            transition: .15s;
            transform:scale(1.001);
            margin-bottom:.5em;
        }
        #icoList :hover u1-ico {
            transform:scale(2.1);
        }
    </style>
</section>


<section>
    using: --u1-ico-dir:"https://cdn.jsdelivr.net/npm/@material-icons/svg@1.0.11/svg/{icon}/baseline.svg"
    <div style="--u1-ico-dir:'https://cdn.jsdelivr.net/npm/@material-icons/svg@1.0.11/svg/{icon}/baseline.svg'">
        <u1-ico icon=search></u1-ico>
        <u1-ico icon=facebook></u1-ico>
        <u1-ico icon=alarm></u1-ico>
    </div>

    using: --u1-ico-font:'Material Icons' (as reference)
    <div style="--u1-ico-font:'Material Icons'">
        <u1-ico>search</u1-ico>
        <u1-ico icon=facebook></u1-ico>
        <u1-ico icon=alarm></u1-ico>
    </div>
</section>
